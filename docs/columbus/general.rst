.. _Columbus_general:


哥伦布开发板的基本说明
=====================================

.. contents::

本地文件系统和SD卡文件系统
----------------------------

哥伦布的内部有一个很小的文件系统（驱动器），叫做 ``/flash`` ，它使用单片机自带的flash来存储。如果将microSD卡插入卡槽，则可以使用 ``/sd`` 里面的文件系统。

当哥伦布启动后，它需要选择一个文件系统来用作启动。如果没有SD卡插入，那么它将使用内部文件系统 ``/flash`` 作为启动系统来源。如果有SD卡插入，则自动使用SD卡 ``/sd`` 作为启动系统来源。成功启动后，可以看到目录将是以上两个文件系统的目录之一。

如果有需要，你可以通过在创建一个空文件 ``/flash/SKIPSD`` 来避免通过SD卡启动。如果哥伦布文件系统内存在这个文件则启动时候SD卡会被跳过检测，会总是从内部文件系统启动。（在这种情况下SD卡不会被挂在但你仍然可以通过程序里使用 ``os.mount`` 来挂载并使用它。）

（注意：在旧版本的板子上， ``/flash`` 称为 ``0:/`` 以及 ``/sd`` 被称为 ``1:/`` ）

启动文件系统主要用于2件事：那就是用来寻找 ``boot.py`` 和 ``main.py`` 文件以及让你的电脑能通过USB线识别你的设备。

文件系统能像U盘一样直接使用，你可以保存驱动文件，以及编辑``boot.py``和``main.py``文件。

*切记在重启哥伦布之前要弹出（在Linux下，unmount）U盘。*

启动模式
----------

如果你正常上电，或者按下复位键，哥伦布会按标准模式启动： ``boot.py`` 文件会被再先执行，然后USB被配置，最后运行 ``main.py`` 。

你可以通过下面方法改变启动模式，按着user键不放然后按一下reset键，LEDS持续闪烁，当闪烁达到你想要的模式时候，松开user键，被选中的LED灯会快速闪烁，板子会接着重新启动。

所有模式如下：

1.只有绿灯亮，*正常模式*：先启动 ``boot.py`` 然后 ``main.py`` ;

2.只有橙色灯亮，*安全模式*：启动时候不运行任何脚本。(仅1次有效)。;    

3.绿灯和橙灯同时亮，*文件系统重置*：文件系统恢复出厂状态，然后以安全模式启动。

如果你的文件系统损坏了，可以通过模式3启动修复它。当你接入电脑重启无效的时候，可以通过USB充电器或者其他USB供电方式接入板子试试。

错误提示：LED灯闪烁
---------------------

你或者会看到以下两种错误：

1.如果出现红色或者绿色LED任意一个闪烁，这说明一个Python脚本（如： ``main.py`` ）出现错误，可以使用REPL调试它。

2.如果全部4个LED缓慢地循环亮灭，这是一个硬件故障，这必须手动复位。

哥伦布在Windows开发环境指导
----------------------------------------

下面的pdf指导文件给出了哥伦布在Windows开发环境下的使用指导信息，包含设置实实时串口和通过DFU模式下载最新固件。

`PDF guide <http://micropython.org/resources/Micro-Python-Windows-setup.pdf>`__.

.. _hardware_index:

.. include:: hardware/index.rst
